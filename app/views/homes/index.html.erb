<p id="notice"><%= notice %></p>

<h1>Homes</h1>
<%= search_form_for @q do |f| %>
  <%= f.search_field :name_or_address_or_room_number_or_price_cont, placeholder: "Search..." %>
  <%= f.submit "Search!" %>
<% end %>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Room number</th>
      <th>Price</th>
      <th>user</th>
      <th><%= sort_link(@q, :name, "Name", default_order: :asc) %></th>
      <th><%= sort_link(@q, :address, "Address", default_order: :asc) %></th>
      <th><%= sort_link(@q, :room_number, "Room number", default_order: :asc) %></th>
      <th><%= sort_link(@q, :price, "Price", default_order: :asc) %></th>
      <th><%= sort_link(@q, :users, "User", default_order: :asc) %></th>
      <th>detail</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @homes.each do |home| %>
      <tr>
        <td><%= home.name %></td>
        <td><%= home.address %></td>
        <td><%= home.room_number %></td>
        <td><%= home.price %></td>
        <td><%= home.user.name %></td>
        <td><%= home.detail%></td>
        <td><%= link_to 'Show', home %></td>
        <td><%= link_to 'Edit', edit_home_path(home) %></td>
        <td><%= link_to 'Destroy', home, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Home', new_home_path %>
